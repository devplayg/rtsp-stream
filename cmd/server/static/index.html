<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>
            RTSP Stream
        </title>
        <meta name="description" content="Page Titile">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, minimal-ui">
        <!-- Call App Mode on ios devices -->
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <!-- Remove Tap Highlight on Windows Phone IE -->
        <meta name="msapplication-tap-highlight" content="no">
        <!-- base css -->
        <link rel="stylesheet" media="screen, print" href="assets/css/vendors.bundle.css">
        <link rel="stylesheet" media="screen, print" href="assets/css/app.bundle.css">
        <!-- Place favicon.ico in the root directory -->
        <link rel="apple-touch-icon" sizes="180x180" href="assets/img/favicon/apple-touch-icon.png">
        <link rel="mask-icon" href="assets/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="stylesheet" href="assets/css/fa-solid.css">
        <link rel="stylesheet" href="assets/css/themes/cust-theme-12.css">
        <link rel="stylesheet" href="plugins/bootstrap-table/bootstrap-table.css">
        <link rel="stylesheet" href="plugins/videojs/video-js.min.css">
    </head>
    <body class="mod-bg-1">
        <!-- DOC: script to save and load page settings -->
        <script>
            /**
             *	This script should be placed right after the body tag for fast execution
             *	Note: the script is written in pure javascript and does not depend on thirdparty library
             **/
            'use strict';

            var classHolder = document.getElementsByTagName("BODY")[0],
                /**
                 * Load from localstorage
                 **/
                themeSettings = (localStorage.getItem('themeSettings')) ? JSON.parse(localStorage.getItem('themeSettings')) :
                {},
                themeURL = themeSettings.themeURL || '',
                themeOptions = themeSettings.themeOptions || '';
            /**
             * Load theme options
             **/
            if (themeSettings.themeOptions)
            {
                classHolder.className = themeSettings.themeOptions;
                console.log("%câœ” Theme settings loaded", "color: #148f32");
            }
            else
            {
                console.log("Heads up! Theme settings is empty or does not exist, loading default settings...");
            }
            if (themeSettings.themeURL && !document.getElementById('mytheme'))
            {
                var cssfile = document.createElement('link');
                cssfile.id = 'mytheme';
                cssfile.rel = 'stylesheet';
                cssfile.href = themeURL;
                document.getElementsByTagName('head')[0].appendChild(cssfile);
            }
            /**
             * Save to localstorage
             **/
            var saveSettings = function()
            {
                themeSettings.themeOptions = String(classHolder.className).split(/[^\w-]+/).filter(function(item)
                {
                    return /^(nav|header|mod|display)-/i.test(item);
                }).join(' ');
                if (document.getElementById('mytheme'))
                {
                    themeSettings.themeURL = document.getElementById('mytheme').getAttribute("href");
                };
                localStorage.setItem('themeSettings', JSON.stringify(themeSettings));
            }
            /**
             * Reset settings
             **/
            var resetSettings = function()
            {
                localStorage.setItem("themeSettings", "");
            }

        </script>
        <!-- BEGIN Page Wrapper -->
        <div class="page-wrapper">
            <div class="page-inner">
                <!-- BEGIN Left Aside -->
                <aside class="page-sidebar invisible">
                    <div class="page-logo">
                        <a href="#" class="page-logo-link press-scale-down d-flex align-items-center position-relative" data-toggle="modal" data-target="#modal-shortcut">
                            <img src="img/logo.png" alt="SmartAdmin WebApp" aria-roledescription="logo" class="rounded" style="height: 30px;">
                            <span class="page-logo-text mr-1">RTSP Stream</span>
                            <span class="position-absolute text-white opacity-50 small pos-top pos-right mr-2 mt-n2">Streaming Project</span>
                        </a>
                    </div>
                    <!-- BEGIN PRIMARY NAVIGATION -->
                    <nav id="js-primary-nav" class="primary-nav" role="navigation">
                        <div class="nav-filter">
                            <div class="position-relative">
                                <input type="text" id="nav_filter_input" placeholder="Filter menu" class="form-control" tabindex="0">
                                <a href="#" onclick="return false;" class="btn-default btn-search-close js-waves-off" data-action="toggle" data-class="list-filter-active" data-target=".page-sidebar">
                                    <i class="fal fa-chevron-up"></i>
                                </a>
                            </div>
                        </div>

                        <ul id="js-nav-menu" class="nav-menu">
                            <li>
                                <a href="#" title="Application Intel" data-filter-tags="application intel">
                                    <i class="fal fa-info-circle"></i>
                                    <span class="nav-link-text" data-i18n="nav.application_intel">Application Intel</span>
                                </a>
                                <ul>
                                    <li>
                                        <a href="/static/" title="Introduction" data-filter-tags="application intel introduction">
                                            <span class="nav-link-text" data-i18n="nav.application_intel_introduction">Introduction</span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                        <div class="filter-message js-filter-message bg-success-600"></div>
                    </nav>
                    <!-- END PRIMARY NAVIGATION -->
                    <!-- NAV FOOTER -->
                    <div class="nav-footer shadow-top">

                    </div> <!-- END NAV FOOTER -->
                </aside>
                <!-- END Left Aside -->
                <div class="page-content-wrapper">
                    <!-- BEGIN Page Header -->
                    <header class="page-header" role="banner">
                        <!-- we need this logo when user switches to nav-function-top -->
                        <div class="page-logo">
                            <a href="#" class="page-logo-link press-scale-down d-flex align-items-center position-relative" data-toggle="modal" data-target="#modal-shortcut">
                                <img src="img/logo.png" alt="SmartAdmin WebApp" aria-roledescription="logo">
                                <span class="page-logo-text mr-1">SmartAdmin WebApp</span>
                                <span class="position-absolute text-white opacity-50 small pos-top pos-right mr-2 mt-n2">SLIM Project</span>
                            </a>
                        </div>
                        <!-- DOC: mobile button appears during mobile width -->
                        <div class="hidden-lg-up d-none">
                            <a href="#" class="header-btn btn press-scale-down" data-action="toggle" data-class="mobile-nav-on">
                                <i class="ni ni-menu"></i>
                            </a>
                        </div>
                    </header>
                    <!-- END Page Header -->
                    <!-- BEGIN Page Content -->
                    <!-- the #js-page-content id is needed for some plugins to initialize -->
                    <main id="js-page-content" role="main" class="page-content">
                        <div class="row">
                            <div class="col-lg-12">
                                <div id="toolbar-streams">
                                    <button type="button" class="btn btn-default btn-streams-debug">Debug</button>
                                </div>
                                <table  id="table-streams"
                                        data-toolbar="#toolbar-streams"
                                        data-search="true"
                                        data-id-field="id"
                                        data-url="/streams"
                                        data-pagination="true"
                                        data-side-pagination="client"
                                        data-show-refresh="true"
                                        data-sort-name="uri"
                                        data-sort-order="asc">
                                    <thead>
                                    <tr>
                                        <th data-formatter="streamsActionFormatter" data-visible="false">Action</th>
                                        <th data-field="id">ID</th>
                                        <th data-field="active">Active</th>
                                        <th data-formatter="streamsControlFormatter" data-events="streamsActiveEvents">Control</th>
                                        <th data-field="uri">URI</th>
                                        <th data-field="hash">Hash</th>
                                        <th data-field="username">Username</th>
                                        <th data-field="password">Password</th>
                                        <th data-field="hash">Hash</th>
                                        <th data-field="recording" data-formatter="streamsRecordingFormatter">Recording</th>
                                    </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="panel">
                                    <div class="panel-container show">
                                        <div class="panel-content">
                                            <form id="form-streams-add">
                                                <div class="form-group">
                                                    <label class="form-label" for="">URI</label>
                                                    <input type="text" name="uri" class="form-control" value="rtsp://127.0.0.1:30101/Streaming/Channels/101/" />
                                                </div>

                                                <div class="form-group">
                                                    <label class="form-label" for="">Username</label>
                                                    <input type="text" name="username" class="form-control" value="admin"/>
                                                </div>

                                                <div class="form-group">
                                                    <label class="form-label" for="">Password</label>
                                                    <input type="password" name="password" class="form-control" value="1234"/>
                                                </div>

                                                <div class="alert alert-success" role="alert">
                                                    <strong>Error!</strong> <span class="msg"></span>
                                                </div>

                                                <div class="custom-control custom-switch">
                                                    <input type="checkbox" class="custom-control-input" id="customSwitch2">
                                                    <label class="custom-control-label" for="customSwitch2">Recording</label>
                                                </div>

                                                <button type="button" class="btn btn-default btn-streams-add">Add</button>
                                                <!--
                                                <button type="button" class="btn btn-default btn-streams-list">List</button>
                                                <button type="button" class="btn btn-default btn-streams-start">Start</button>
                                                <button type="button" class="btn btn-default btn-streams-stop">Stop</button>
                                                <button type="button" class="btn btn-default btn-streams-delete">Delete</button>
                                                -->
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="panel">
                                    <div class="panel-container show">
                                        <div class="panel-content">
                                            <form id="form-streams-edit">
                                                <div class="form-group">
                                                    <label class="form-label" for="">ID</label>
                                                    <input type="text" name="id" class="form-control">
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label" for="">URI</label>
                                                    <input type="text" name="uri" class="form-control" value="rtsp://127.0.0.1:30101/Streaming/Channels/101/" />
                                                </div>

                                                <div class="form-group">
                                                    <label class="form-label" for="">Username</label>
                                                    <input type="text" name="username" class="form-control" value="admin"/>
                                                </div>

                                                <div class="form-group">
                                                    <label class="form-label" for="">Password</label>
                                                    <input type="password" name="password" class="form-control" value="1234"/>
                                                </div>

                                                <div class="alert alert-danger" role="alert">
                                                    <strong>Error</strong> <span class="msg"></span>
                                                </div>

                                                <button type="button" class="btn btn-default btn-streams-update">Update</button>
                                                <!--
                                                <button type="button" class="btn btn-default btn-streams-list">List</button>
                                                <button type="button" class="btn btn-default btn-streams-start">Start</button>
                                                <button type="button" class="btn btn-default btn-streams-stop">Stop</button>
                                                <button type="button" class="btn btn-default btn-streams-delete">Delete</button>
                                                -->
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--
                        <div>
                            <video-js id=example-video width=960 height=540 class="vjs-default-skin" controls>
                                <source src="live/7/index.m3u8" type="application/x-mpegURL">
                            </video-js>
                        </div>
                        -->
                    </main>
                    <!-- this overlay is activated only when mobile menu is triggered -->
                    <div class="page-content-overlay" data-action="toggle" data-class="mobile-nav-on"></div> <!-- END Page Content -->
                    <!-- BEGIN Page Footer -->
                    <footer class="page-footer" role="contentinfo">
                    </footer>
                    <!-- END Page Footer -->
                </div>
            </div>
        </div>
        <!-- END Page Wrapper -->
        <!-- base vendor bundle:
			 DOC: if you remove pace.js from core please note on Internet Explorer some CSS animations may execute before a page is fully loaded, resulting 'jump' animations
						+ pace.js (recommended)
						+ jquery.js (core)
						+ jquery-ui-cust.js (core)
						+ popper.js (core)
						+ bootstrap.js (core)
						+ slimscroll.js (extension)
						+ app.navigation.js (core)
						+ ba-throttle-debounce.js (core)
						+ waves.js (extension)
						+ smartpanels.js (extension)
						+ src/../jquery-snippets.js (core) -->
        <script src="assets/js/vendors.bundle.js"></script>
        <script src="assets/js/app.bundle.js"></script>
        <script src="js/custom.js"></script>

        <script>
            $(document).ready(function () {


            });
        </script>
        <!-- Module -->
        <script src="plugins/bootstrap-table/bootstrap-table.js"></script>
        <script src="plugins/videojs/video.min.js"></script>
        <script src="plugins/videojs/videojs-http-streaming.min.js"></script>

        <script src="js/streams.js"></script>
        <script src="js/formatter.js"></script>
        <script>
            let player = videojs('example-video', {
                playbackRates: [0.5, 1, 1.5, 2, 4]
            });
            player.play();

            // (function(window, videojs) {
            //     var player = window.player = videojs('videojs-playbackrate-adjuster-player', {
            //         playbackRates: [0.5, 1, 1.5, 2, 4]
            //     });
            //
            // }(window, window.videojs));
        </script>
    </body>
</html>
